{
  "version": "1.5.0",
  "description": "Aegis Neural Upscaler (ANU) Configuration",
  "tier": "gamer",
  "last_updated": "2024-12-06",

  "defaults": {
    "backend": "fsr2",
    "quality_preset": "balanced",
    "sharpness": 0.5,
    "target_fps": 60,
    "enable_frame_generation": false,
    "auto_detect_games": true
  },

  "quality_presets": {
    "ultra_quality": {
      "name": "Ultra Quality",
      "scale_factor": 0.77,
      "sharpness": 0.3,
      "description": "Near-native quality with minimal performance impact",
      "recommended_for": ["high_end_gpus", "4k_displays"]
    },
    "quality": {
      "name": "Quality",
      "scale_factor": 0.67,
      "sharpness": 0.5,
      "description": "Excellent quality with noticeable performance gains",
      "recommended_for": ["mid_high_gpus", "1440p_displays"]
    },
    "balanced": {
      "name": "Balanced",
      "scale_factor": 0.58,
      "sharpness": 0.6,
      "description": "Good balance between quality and performance",
      "recommended_for": ["mid_range_gpus", "1080p_displays"],
      "default": true
    },
    "performance": {
      "name": "Performance",
      "scale_factor": 0.50,
      "sharpness": 0.7,
      "description": "Prioritize frame rate over image quality",
      "recommended_for": ["low_mid_gpus", "competitive_gaming"]
    },
    "ultra_performance": {
      "name": "Ultra Performance",
      "scale_factor": 0.33,
      "sharpness": 0.9,
      "description": "Maximum performance for esports and low-end systems",
      "recommended_for": ["low_end_gpus", "esports", "120hz_targets"]
    }
  },

  "backends": {
    "bilinear": {
      "name": "Bilinear",
      "tier_required": "gamer",
      "quality_rating": 1,
      "gpu_required": false,
      "description": "Simple bilinear interpolation, fastest option"
    },
    "bicubic": {
      "name": "Bicubic",
      "tier_required": "gamer",
      "quality_rating": 2,
      "gpu_required": false,
      "description": "Bicubic interpolation, slightly better than bilinear"
    },
    "lanczos": {
      "name": "Lanczos",
      "tier_required": "gamer",
      "quality_rating": 3,
      "gpu_required": false,
      "description": "Lanczos resampling, sharp edges and good detail"
    },
    "fsr1": {
      "name": "AMD FSR 1.0",
      "tier_required": "gamer",
      "quality_rating": 5,
      "gpu_required": true,
      "description": "AMD FidelityFX Super Resolution 1.0 - Spatial upscaling",
      "env_vars": {
        "WINE_FULLSCREEN_FSR": "1",
        "WINE_FULLSCREEN_FSR_STRENGTH": "2"
      }
    },
    "fsr2": {
      "name": "AMD FSR 2.x",
      "tier_required": "gamer",
      "quality_rating": 7,
      "gpu_required": true,
      "description": "AMD FidelityFX Super Resolution 2.x - Temporal upscaling with motion vectors",
      "env_vars": {
        "WINE_FULLSCREEN_FSR": "1",
        "WINE_FULLSCREEN_FSR_MODE": "balanced"
      },
      "recommended": true
    },
    "fsr3": {
      "name": "AMD FSR 3.0",
      "tier_required": "gamer",
      "quality_rating": 8,
      "gpu_required": true,
      "description": "AMD FSR 3.0 with optional frame generation",
      "frame_generation_support": true,
      "env_vars": {
        "WINE_FULLSCREEN_FSR": "1",
        "WINE_FULLSCREEN_FSR_MODE": "quality"
      }
    },
    "real-esrgan": {
      "name": "Real-ESRGAN",
      "tier_required": "gamer-ai",
      "quality_rating": 9,
      "gpu_required": true,
      "description": "AI-based upscaling using Real-ESRGAN neural network",
      "models": ["realesrgan-x4plus", "realesr-animevideov3", "realesrgan-x4plus-anime"],
      "cuda_recommended": true
    },
    "anu-neural": {
      "name": "ANU Neural Network",
      "tier_required": "gamer-ai",
      "quality_rating": 10,
      "gpu_required": true,
      "description": "Aegis proprietary neural upscaler - DLSS-quality results",
      "models": ["anu-v2", "anu-v2-performance", "anu-v3-experimental"],
      "tensor_cores_recommended": true,
      "features": ["temporal_stability", "motion_vectors", "frame_interpolation"]
    }
  },

  "resolution_presets": {
    "720p": {"width": 1280, "height": 720, "name": "HD 720p"},
    "900p": {"width": 1600, "height": 900, "name": "HD+ 900p"},
    "1080p": {"width": 1920, "height": 1080, "name": "Full HD 1080p"},
    "1440p": {"width": 2560, "height": 1440, "name": "QHD 1440p"},
    "2160p": {"width": 3840, "height": 2160, "name": "4K UHD"},
    "ultrawide_1080p": {"width": 2560, "height": 1080, "name": "Ultrawide 1080p"},
    "ultrawide_1440p": {"width": 3440, "height": 1440, "name": "Ultrawide 1440p"}
  },

  "performance_targets": {
    "30fps": {
      "target_fps": 30,
      "frame_time_ms": 33.33,
      "description": "Cinematic experience",
      "recommended_for": ["story_games", "rpgs"]
    },
    "60fps": {
      "target_fps": 60,
      "frame_time_ms": 16.67,
      "description": "Standard smooth gameplay",
      "recommended_for": ["most_games"],
      "default": true
    },
    "90fps": {
      "target_fps": 90,
      "frame_time_ms": 11.11,
      "description": "VR-ready frame rate",
      "recommended_for": ["vr_games"]
    },
    "120fps": {
      "target_fps": 120,
      "frame_time_ms": 8.33,
      "description": "High refresh rate gaming",
      "recommended_for": ["action_games", "shooters"]
    },
    "144fps": {
      "target_fps": 144,
      "frame_time_ms": 6.94,
      "description": "Competitive gaming standard",
      "recommended_for": ["esports", "competitive"]
    },
    "165fps": {
      "target_fps": 165,
      "frame_time_ms": 6.06,
      "description": "High-end competitive",
      "recommended_for": ["esports"]
    },
    "240fps": {
      "target_fps": 240,
      "frame_time_ms": 4.17,
      "description": "Professional esports",
      "recommended_for": ["pro_esports"]
    }
  },

  "per_game_overrides": {
    "steam_1091500": {
      "name": "Cyberpunk 2077",
      "backend": "fsr3",
      "quality_preset": "quality",
      "enable_frame_generation": true,
      "target_fps": 60,
      "notes": "FSR 3 with frame gen recommended for smooth gameplay"
    },
    "steam_1245620": {
      "name": "Elden Ring",
      "backend": "fsr2",
      "quality_preset": "balanced",
      "target_fps": 60,
      "notes": "Game capped at 60 FPS"
    },
    "steam_1086940": {
      "name": "Baldur's Gate 3",
      "backend": "fsr2",
      "quality_preset": "quality",
      "target_fps": 60
    },
    "steam_1174180": {
      "name": "Red Dead Redemption 2",
      "backend": "fsr2",
      "quality_preset": "balanced",
      "target_fps": 60,
      "notes": "TAA recommended for best results with FSR"
    },
    "steam_1716740": {
      "name": "Starfield",
      "backend": "fsr3",
      "quality_preset": "balanced",
      "enable_frame_generation": true,
      "target_fps": 60
    },
    "steam_782330": {
      "name": "Doom Eternal",
      "backend": "fsr1",
      "quality_preset": "performance",
      "target_fps": 120,
      "notes": "Native Vulkan, very well optimized"
    },
    "steam_292030": {
      "name": "The Witcher 3",
      "backend": "fsr2",
      "quality_preset": "quality",
      "target_fps": 60
    },
    "steam_990080": {
      "name": "Hogwarts Legacy",
      "backend": "fsr3",
      "quality_preset": "balanced",
      "enable_frame_generation": true,
      "target_fps": 60
    },
    "steam_1551360": {
      "name": "Forza Horizon 5",
      "backend": "fsr2",
      "quality_preset": "quality",
      "target_fps": 60
    },
    "steam_1240440": {
      "name": "Halo Infinite",
      "backend": "fsr2",
      "quality_preset": "balanced",
      "target_fps": 120,
      "notes": "Competitive multiplayer benefits from performance mode"
    }
  },

  "gamescope_integration": {
    "enabled": true,
    "default_options": {
      "fullscreen": true,
      "borderless": false,
      "adaptive_sync": true
    },
    "fsr_options": {
      "fsr1": "-F fsr",
      "fsr2": "-F fsr",
      "fsr3": "-F fsr"
    }
  },

  "mangohud_integration": {
    "enabled": true,
    "default_config": "fps,frametime,cpu_temp,gpu_temp,vram,ram",
    "benchmark_config": "fps,frametime,frame_count,gpu_stats,cpu_stats,log_duration=60"
  },

  "neural_settings": {
    "anu_model_path": "/usr/share/aegis/upscaler/models/anu-neural",
    "real_esrgan_path": "/usr/share/aegis/upscaler/models/real-esrgan",
    "precision": "fp16",
    "batch_size": 1,
    "tile_size": 512,
    "gpu_memory_limit_mb": 4096,
    "cache_enabled": true,
    "cache_max_frames": 120
  },

  "tier_features": {
    "freemium": {
      "enabled": false,
      "message": "Upscaling features require GAMER edition or higher"
    },
    "basic": {
      "enabled": false,
      "message": "Upscaling features require GAMER edition or higher"
    },
    "gamer": {
      "backends": ["bilinear", "bicubic", "lanczos", "fsr1", "fsr2", "fsr3"],
      "quality_presets": ["all"],
      "per_game_profiles": true,
      "gamescope_integration": true,
      "mangohud_integration": true,
      "benchmarks": true
    },
    "gamer-ai": {
      "backends": ["all"],
      "quality_presets": ["all"],
      "per_game_profiles": true,
      "gamescope_integration": true,
      "mangohud_integration": true,
      "benchmarks": true,
      "neural_upscaling": true,
      "frame_generation": true,
      "ai_auto_tuning": true
    }
  },

  "paths": {
    "user_profiles": "~/.config/aegis/upscaler/profiles",
    "cache_dir": "~/.cache/aegis/upscaler",
    "benchmarks_dir": "/var/lib/aegis/upscaler/benchmarks",
    "logs_dir": "/var/log/aegis"
  },

  "logging": {
    "enabled": true,
    "level": "INFO",
    "file": "/var/log/aegis/upscaler.log",
    "max_size_mb": 10,
    "backup_count": 3
  }
}
